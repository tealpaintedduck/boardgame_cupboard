<div>
  <div>
    <button id="buy" ng-class="{'active' : buyIsActive, '' : !buyIsActive }" ng-click="getRecs('buy'); buyIsActive = !buyIsActive; playIsActive = false;">
      To buy
    </button>
    <button ng-show="signedIn()" id="play" ng-class="{'active' : playIsActive, '' : !playIsActive }" ng-click="getRecs('play'); playIsActive = !playIsActive; buyIsActive = false;">
      To play
    </button>
  </div>
  <div ng-show="playIsActive || buyIsActive">
    <div>
      <select class="category" id="players" ng-options="player for player in players" ng-model="playerCriteria">
        <option value="" disabled selected>Select players</option>
      </select>
    </div>
    <div>
      <button class="category" ng-click="showGenres = !showGenres">Select genre</button>
    </div>
    <div>
      <button ng-class="{'filter': !isActive, 'filter active': isActive}" ng-show="showGenres" ng-repeat="genre in genres" ng-click="isActive = !isActive; toggleCriteria(genreCriteria, genre.name)">
        {{ genre.name }}
      </button>
    </div>
    <div>
      <button class="category" ng-click="showMechanics = !showMechanics">Select mechanic</button>
    <div>
      <button ng-class="{'filter': !isActive, 'filter active': isActive}" ng-show="showMechanics" ng-repeat="mechanic in mechanics" ng-click="isActive = !isActive; toggleCriteria(mechanicCriteria, mechanic.name)">
        {{ mechanic.name }}
      </button>
    </div>
    <div ng-repeat="game in games | filter:selectedCriteria" class="card">
      <div class="title" ng-click="gameOpened = !gameOpened">{{ game.title }}<button class="show-detail-button" ng-show="!gameOpened">more</button><button class="show-detail-button" ng-show="gameOpened">less</button></div>
        <div class="game-details" ng-show="gameOpened">
          <div class="info-title">{{ game.min_players }} - {{ game.max_players }} players</div>
          <div class="info-container"><span class="info-title">Genres</span>
            <div ng-repeat="genre in game.genres">
              {{ genre.name }}
            </div>
          </div>
          <div class="info-container"><span class="info-title">Mechanics</span>
            <div ng-repeat="mechanic in game.mechanics">
              {{ mechanic.name }}
            </div>
          </div>
        </div>
    </div>
  </div>
</div>